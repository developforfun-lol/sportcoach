html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#0b0b0c;color:#f5f5f7;font-size:18px}
*{-webkit-tap-highlight-color:transparent;touch-action:manipulation}
body.modal-open{overflow:hidden}
header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#111;border-bottom:1px solid #222}
h1{font-size:20px;margin:0}
main{padding:16px}
nav{display:flex;gap:10px;margin-bottom:14px}
nav button{padding:10px 14px;border:1px solid #333;background:#1a1a1b;color:#eee;border-radius:10px;font-size:18px}
.tab.hidden{display:none}
.team{display:flex;align-items:center;gap:14px;margin:10px 0}
.team input{background:#141415;border:1px solid #333;border-radius:10px;color:#fff;padding:8px 10px;width:150px;font-size:18px}
.score{font-size:48px;width:96px;text-align:center}
.controls button{padding:10px 14px;border:1px solid #333;background:#1a1a1b;color:#eee;border-radius:10px;margin-right:8px}
.timer{margin-top:14px;display:flex;align-items:center;gap:10px}
#timerDisplay{font-variant-numeric:tabular-nums;font-size:22px;padding:6px 10px;background:#151516;border:1px solid #333;border-radius:10px}
.previewWrap{width:100%;max-width:520px;aspect-ratio:16/9;background:#000;border:1px solid #333;border-radius:14px;overflow:hidden}
#preview,#player{width:100%;height:100%;object-fit:contain}
.row{display:flex;gap:10px;align-items:center;margin:10px 0;flex-wrap:wrap}
select,button,input{font-size:18px}
#wrap{position:relative;width:100%;max-width:760px;aspect-ratio:16/9;background:#000;border:1px solid #333;border-radius:14px;overflow:hidden}
#canvas{position:absolute;left:0;top:0;width:100%;height:100%;z-index:2;touch-action:none}
#player{position:absolute;left:0;top:0;width:100%;height:100%;z-index:1;background:#000}
/* In-video HUD overlay */
.hudOverlay{position:absolute;right:10px;bottom:10px;background:rgba(0,0,0,.45);backdrop-filter:blur(2px);padding:6px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.15);font-variant-numeric:tabular-nums;pointer-events:none;z-index:3}
/* Below-video HUD fallback (sits between video and controls) */
.hudBelow{opacity:.9;font-size:16px;margin:6px 2px 8px;font-variant-numeric:tabular-nums}
ul#videoList{list-style:none;padding:0;margin:14px 0;max-height:260px;overflow:auto;border:1px solid #333;border-radius:10px}
#videoList li{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border-bottom:1px solid #222}
#videoList li:last-child{border-bottom:none}
.controls-bar button{padding:10px 14px;border:1px solid #333;background:#1a1a1b;color:#eee;border-radius:10px}
.chipbar{display:flex;gap:8px;flex-wrap:wrap}
.chip{padding:8px 12px;border:1px solid #333;background:#1a1a1b;border-radius:999px;color:#eee}
.marker-bar{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.marker-chip{padding:6px 10px;border:1px solid #2a2a2b;background:#141415;border-radius:999px;color:#ddd;font-size:16px}
.marker-chip small{opacity:.8;margin-left:6px}
footer#ver{opacity:.5;text-align:center;font-size:12px;padding:8px 0}
@media (max-width:420px){.hudOverlay{display:none} .hudBelow{display:block}} 
@media (min-width:421px){.hudBelow{display:none}} 

/* modal: use explicit top/left/right/bottom for iOS Safari */
.modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:99999}
.modal.hidden{display:none}
.modal-card{background:#1a1a1b;border:1px solid #333;border-radius:12px;padding:16px;min-width:260px;max-width:90vw;box-shadow:0 10px 30px rgba(0,0,0,.5)}
.modal-card h3{margin:0 0 10px 0;font-size:18px}
.modal-card input{width:100%;padding:8px;border-radius:8px;border:1px solid #444;background:#111;color:#fff}
.modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}
.modal-actions button{padding:8px 12px;border:1px solid #444;background:#222;color:#fff;border-radius:8px}
